<div class="sidebar">
  <div class="logo-details">
    <div class="logo_name"><img src="img/Arexx-logo (1).png" position="absolute" width="60%" height="30%"></div>
    <i class='bx bx-menu' id="btn"></i>
  </div>
  <ul class="nav-list">
    <li>
      <a class="nav-link" href="choice.html" id="uploadDatabaseBtn" data-translate data-eng="Connection Choice" data-fr="Choix de Connexion" data-de="Verbindungswahl" data-nl="Verbindingskeuze">
        <i class='bx bx-refresh'></i>
        <span class="links_name">Connection Choice</span>
      </a>
      <span class="tooltip" data-translate data-eng="Connection Choice" data-fr="Choix de Connexion" data-de="Verbindungswahl" data-nl="Verbindingskeuze">Connection Choice</span>
      <input type="file" id="databaseInput" style="display: none;" />
    </li>
    <li>
      <a class="nav-link" href="homepage.html" data-translate data-eng="Dashboard" data-fr="Tableau de Bord" data-de="Armaturenbrett" data-nl="Dashboard">
        <i class='bx bxs-dashboard'></i>
        <span class="links_name">Dashboard</span>
      </a>
      <span class="tooltip" data-translate data-eng="Dashboard" data-fr="Tableau de Bord" data-de="Armaturenbrett" data-nl="Dashboard">Dashboard</span>
    </li>
    <li>
      <a class="nav-link" href="overzicht.html" data-translate data-eng="Sensor" data-fr="Capteur" data-de="Sensor" data-nl="Sensor">
        <i class='bx bxs-chart'></i>
        <span class="links_name">Sensor</span>
      </a>
      <span class="tooltip" data-translate data-eng="Sensor" data-fr="Capteur" data-de="Sensor" data-nl="Sensor">Sensor</span>
    </li>
    <li>
      <a id="notepad-logo" class="nav-link" href="overview.html" data-translate data-eng="Complete Overview" data-fr="Vue d'ensemble Complète" data-de="Komplette Übersicht" data-nl="Volledig Overzicht">
        <i class='bx bx-notepad'></i>
        <span class="links_name">Complete Overview</span>
      </a>
      <span class="tooltip" data-translate data-eng="Complete Overview" data-fr="Vue d'ensemble Complète" data-de="Komplette Übersicht" data-nl="Volledig Overzicht">Complete Overview</span>
    </li>
    <li>
      <a id="admin-logo" class="nav-link" href="adminLogin.html" data-translate data-eng="Admin" data-fr="Administrateur" data-de="Administrator" data-nl="Beheerder">
        <i class='bx bxs-user'></i>
        <span class="links_name">Admin</span>
      </a>
      <span class="tooltip" data-translate data-eng="Admin" data-fr="Administrateur" data-de="Administrator" data-nl="Beheerder">Admin</span>
    </li>
    <li>
      <a id="setting-logo" class="nav-link" data-translate data-eng="Setting" data-fr="Paramètre" data-de="Einstellung" data-nl="Instelling">
        <i class='bx bx-cog'></i>
        <span class="links_name">Setting</span>
      </a>
      <span class="tooltip" data-translate data-eng="Setting" data-fr="Paramètre" data-de="Einstellung" data-nl="Instelling">Setting</span>
    </li>
    <li>
      <a class="nav-link" href="translation.html" data-translate data-eng="Language" data-fr="Langue" data-de="Sprache" data-nl="Taal">
        <i class='bx bxs-flag'></i>
        <span class="links_name">Language</span>
      </a>
      <span class="tooltip" data-translate data-eng="Language" data-fr="Langue" data-de="Sprache" data-nl="Taal">Language</span>
    </li>
  </ul>
</div>
<div class="maincontent">
  <div class="topbar">
    <div class="topbar-items">
      <div class="searchbox">
        <i class="bx bx-search"></i>
        <input id="searchInput" onkeyup="handleKeyupEvent()" type="search" name="search" placeholder="Search Sensors">
        <img id="img-cc" src="img/no_connection.svg" alt="no CC">
      </div>
      <div class="float-right"></div>
    </div>
  </div>
</div>
  </div>

  <!-- Place the script at the end of the body tag -->
  <script>
    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");
    let searchInput = document.querySelector("#searchInput");
    let cc = document.querySelector("#img-cc");

    closeBtn.addEventListener("click", () => {
      sidebar.classList.toggle("open");
      menuBtnChange(); //calling the function(optional)
  
      // Add or remove the search icon inside the input based on sidebar state
      if (sidebar.classList.contains("open")) {
        searchInput.insertAdjacentHTML(
          "afterbegin",
          '<i class="bx bx-search"></i>'
        );

      } else {
        searchInput.querySelector(".bx-search").remove();
      }

      if (sidebar.classList.contains("open")) {
        cc.insertAdjacentHTML(
          "afterbegin",
          '<i class="bx bx-search"></i>'
        );
        
      } else {
        cc.querySelector(".bx-search").remove();
      }
    });
  
    // following are the code to change sidebar button(optional)
    function menuBtnChange() {
      if (sidebar.classList.contains("open")) {
        closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");
        //replacing the icons class
      } else {
        closeBtn.classList.replace("bx-menu-alt-right", "bx-menu");
        //replacing the icons class
      }
    }
    
    $(document).ready(function () {
      let allLinks = $(".nav-link").map(function () {
        return this; // Fetch all elements that have the .nav-link class and add them to our list.
      }).get();
  
      // Iterate through each of the links we fetched.
      $.each(allLinks, function (key, value) {
        if (value.href == document.URL) {
          // If the href attribute for this link matches the current page URL.
          $(this).html(value.classList.add("active1")); // Adjust the HTML of the element and append a suffix to the end, or do anything else here as required.
          // console.log(value.classList);
        }       
      });
    });

    // Ensuring the DOM is fully loaded before attaching the event listener
  </script>
  
  <script src="main.js"></script>
</body>

</html>
