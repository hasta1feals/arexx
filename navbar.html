<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="navbar.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
  
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  
  <!-- Nav bar -->
  <div class="sidebar">
    <div class="logo-details">
      <div class="logo_name"><img src="img/Arexx-logo (1).png" position="absolute" width="60%" height="30%"></div>
      <i class='bx bx-menu' id="btn"></i>
    </div>
    <ul class="nav-list">
         
      <li>
        <a class="nav-link" href="choice.html" id="uploadDatabaseBtn">
          <i class='bx bx-refresh'></i>
          <span class="links_name">Connection Choice</span>
        </a>
        <span class="tooltip">Connection Choice</span>
        <input type="file" id="databaseInput" style="display: none;" />
      </li>
      <li>
        <a class="nav-link" href="homepage.html">
          <i class='bx bxs-dashboard'></i>
          <span class="links_name">Dashboard</span>
        </a>
        <span class="tooltip">Dashboard</span>
      </li>
      <li>
        <a class="nav-link" href="overzicht.html">
          <i class='bx bxs-chart'></i>
          <span class="links_name">Sensor</span>
        </a>
        <span class="tooltip">Sensor</span>
      </li>
      <!-- this section is admin only -->
      <li>
        <a class="nav-link" href="register.html">
          <i class='bx bxs-flag'></i>
          <span class="links_name">Language</span>
        </a>
        <span class="tooltip">Language</span>
      </li>

      <li>
        <a id="setting-logo" class="nav-link" >
          <i class='bx bx-cog'></i>
          <span class="links_name">Setting</span>
        </a>
        <span class="tooltip">Setting</span>
      </li>
    
      <!-- end of admin only section -->
   
      <a hallo id="logoutLink" href=""><i></i></a>
   
    </ul>
  </div>
  <div class="maincontent">
    <div class="topbar">
      <div class="topbar-items"> 
        <div class="searchbox">
        <i class="bx bx-search"></i>
        <input id="searchInput" onkeyup="searchTable()" type="search" name="search" placeholder="Search Sensors">
        <img id="img-cc" src="img/no_connection.svg" alt="no CC">
      </div>
    
      <div class="float-right">
      </div>

    </div>
  </div>
  </div>

  <!-- Place the script at the end of the body tag -->
  <script>
    let sidebar = document.querySelector(".sidebar");
    let closeBtn = document.querySelector("#btn");
    let searchInput = document.querySelector("#searchInput");
    let cc = document.querySelector("#img-cc");

    closeBtn.addEventListener("click", () => {
      sidebar.classList.toggle("open");
      menuBtnChange(); //calling the function(optional)
  
      // Add or remove the search icon inside the input based on sidebar state
      if (sidebar.classList.contains("open")) {
        searchInput.insertAdjacentHTML(
          "afterbegin",
          '<i class="bx bx-search"></i>'
        );

      } else {
        searchInput.querySelector(".bx-search").remove();
      }

      if (sidebar.classList.contains("open")) {
        cc.insertAdjacentHTML(
          "afterbegin",
          '<i class="bx bx-search"></i>'
        );
        
      } else {
        cc.querySelector(".bx-search").remove();
      }
    });
  
    // following are the code to change sidebar button(optional)
    function menuBtnChange() {
      if (sidebar.classList.contains("open")) {
        closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");
        //replacing the icons class
      } else {
        closeBtn.classList.replace("bx-menu-alt-right", "bx-menu");
        //replacing the icons class
      }
    }
    
    $(document).ready(function () {
      let allLinks = $(".nav-link").map(function () {
        return this; // Fetch all elements that have the .nav-link class and add them to our list.
      }).get();
  
      // Iterate through each of the links we fetched.
      $.each(allLinks, function (key, value) {
        if (value.href == document.URL) {
          // If the href attribute for this link matches the current page URL.
          $(this).html(value.classList.add("active1")); // Adjust the HTML of the element and append a suffix to the end, or do anything else here as required.
          // console.log(value.classList);
        }       
      });
    });

    // Ensuring the DOM is fully loaded before attaching the event listener
  </script>
  
  <script src="main.js"></script>
</body>

</html>
